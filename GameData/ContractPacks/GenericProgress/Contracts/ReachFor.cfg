CONTRACT_TYPE
{
    name = ReachFor
    group = GenericProgress
    agent = Generic Progress Inc.

    title = Reach for @targetBody (Uncrewed)
    description = Our current achievements indicate that we have the ability to reach @targetBody. Send a probe to collect science.
    completedMessage = Our probe have successfully collected science in the SOI of @targetBody.
    synopsis = We want to collect science in the SOI of @targetBody.

    minExpiry = 0
    maxExpiry = 0
    maxCompletions = 1
    cancellable = true
    declinable = false

    prestige = Trivial

    rewardScience = @GenericProgress:BaseScience * 6
    rewardReputation = @GenericProgress:BaseReputation * 3
    rewardFunds = @GenericProgress:BaseFund * 2
    advanceFunds = @GenericProgress:BaseFund
    failureReputation = @GenericProgress:FailReputation
    failureFunds = @advanceFunds * 2


    targetBody = @Target

    DATA_EXPAND
    {
        type = CelestialBody
        Target = AllBodies().Where(cb => !cb.IsSun() && !cb.IsHomeWorld())
    }

    DATA
    {
        // tricky
        type = List<CelestialBody>
        TargetList = $GP_Enabled
        title = Must have orbited the home world
    }

    REQUIREMENT
    {
        name = CheckEnabled
        type = Expression

        expression = @/TargetList.Contains(@/targetBody)
        title = Must have explored nearby celestial bodies
    }

    PARAMETER
    {
        name = Vessel
        type = VesselParameterGroup

        PARAMETER
        {
            name = NewVessel
            type = NewVessel
        }

        PARAMETER
        {
            name = HasCrew
            type = HasCrew

            minCrew = 0
            maxCrew = 0
        }

        PARAMETER
        {
            name = CollectScience
            type = CollectScience

            location = Space
            recoveryMethod = RecoverOrTransmit
        }
    }

    BEHAVIOUR
    {
        name = EnablePlanet
        type = Expression

        CONTRACT_COMPLETED_SUCCESS
        {
            type = List<CelestialBody>

            GP_Reached = $GP_Reached.Concat([ @/targetBody ])
        }
    }
}
